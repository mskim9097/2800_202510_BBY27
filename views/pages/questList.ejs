<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <title>Document</title>
</head>


<body class="bg-gray-100 p-4 flex flex-col gap-4 min-h-screen text-sm">
    <%- include('../partials/header') %>

        <!-- Search Field -->
        <div
            class="flex  max-w-xl bg-white border border-gray-300 rounded-full shadow-sm px-4 py-2 items-center gap-2">
            <span class="text-gray-500 text-lg">ğŸ”</span>
            <input id="searchInput" type="text" placeholder="Search Quests..."
                class="flex-grow focus:outline-none text-sm text-gray-800 placeholder-gray-400 bg-transparent">
        </div>
        <div id="filterContainer">
            <select id="difficultyFilter"
            class="border border-gray-300 rounded-full text-sm px-3 py-2 bg-white shadow-sm focus:outline-none mt-2">
                <option value="">Difficulty</option>
                <option value="easy">ğŸŸ¢ Easy</option>
                <option value="medium">ğŸŸ¡ Medium</option>
                <option value="high">ğŸ”´ High</option>
            </select>
            <select id="timeFilter"
            class="border border-gray-300 rounded-full text-sm px-3 py-2 bg-white shadow-sm focus:outline-none mt-2">
                <option value="">Time of Day</option>
                <option value="morning">ğŸŒ… Morning</option>
                <option value="afternoon">ğŸŒ¤ï¸ Afternoon </option>
                <option value="evening">ğŸŒ‡ Evening</option>
                <option value="night">ğŸŒ™ Night</option>
            </select>
        </div>

        <!-- Quest Cards Section (Horizontal Scroll) -->
        <div class="mt-4 max-w-6xl mx-auto w-full relative">
            <div id="speciesContainer" class="flex gap-4 overflow-x-auto pb-4 scroll-smooth"
                style="scrollbar-width: none;">
            </div>

            <!-- Loading Spinner -->
            <div id="loading" class="text-center text-gray-500 text-sm mt-2 hidden">
                Loading more quests...
            </div>
        </div>
        <% if (userType === 'researcher') { %>
            <%- include("../partials/researcher-footer") %>
        <% } %>
        <% if (userType === 'explorer') { %>
            <%- include("../partials/explorer-footer") %>
        <% } %>

        <script>
            const questData = JSON.parse('<%- JSON.stringify(questList || null) %>');
        </script>

        <script src="/js/menu.js"></script>
        <script src="/js/questList.js"></script>

</body>

</html>