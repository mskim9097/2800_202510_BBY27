<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <title>Document</title>
    <style>
        #content {
            -ms-overflow-style: none;
            scrollbar-width: none;
            overflow-y: scroll;
        }

        #content::-webkit-scrollbar {
            display: none;
        }

        .line-clamp-2 {
            overflow: hidden;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            text-overflow: ellipsis;
        }
    </style>
</head>


<body class="bg-gray-100 p-4 flex flex-col gap-4 h-screen overflow-hidden text-sm">
    <%- include('../partials/header') %>
<<<<<<< HEAD
        <% if (successMessage) { %>
            <div id="success-message"
                class="flex items-center gap-2 p-4 mb-4 text-sm text-green-800 bg-green-100 rounded-lg border border-green-200 font-semibold">
                ‚úÖ <span>
                    <%= successMessage %>
                </span>
=======

        <!-- Search Field -->
        <div
            class="flex  max-w-xl bg-white border border-gray-300 rounded-full shadow-sm px-4 py-2 items-center gap-2">
            <span class="text-gray-500 text-lg">üîç</span>
            <input id="searchInput" type="text" placeholder="Search Quests..."
                class="flex-grow focus:outline-none text-sm text-gray-800 placeholder-gray-400 bg-transparent">
        </div>
        <div id="filterContainer">
            <select id="difficultyFilter"
            class="border border-gray-300 rounded-full text-sm px-3 py-2 bg-white shadow-sm focus:outline-none mt-2">
                <option value="">Difficulty</option>
                <option value="easy">üü¢ Easy</option>
                <option value="medium">üü° Medium</option>
                <option value="hard">üî¥ Hard</option>
            </select>
            <select id="timeFilter"
            class="border border-gray-300 rounded-full text-sm px-3 py-2 bg-white shadow-sm focus:outline-none mt-2">
                <option value="">Time of Day</option>
                <option value="morning">üåÖ Morning</option>
                <option value="afternoon">üå§Ô∏è Afternoon </option>
                <option value="evening">üåá Evening</option>
                <option value="night">üåô Night</option>
            </select>
            <select id="statusFilter"
            class="border border-gray-300 rounded-full text-sm px-3 py-2 bg-white shadow-sm focus:outline-none mt-2">
                <option value="">Status</option>
                <option value="completed">‚úÖ Completed</option>
                <option value="notAccepted">‚ùå Not Accepted</option>
            </select>
        </div>

        <!-- Quest Cards Section (Horizontal Scroll) -->
        <div class="mt-4 max-w-6xl mx-auto w-full relative">
            <div id="speciesContainer" class="flex gap-4 overflow-x-auto pb-4 scroll-smooth"
                style="scrollbar-width: none;">
>>>>>>> 395379d78488e37492e2488aa66443e1708cdd7a
            </div>
            <% } %>

                <div id="content" class="flex flex-col gap-5 items-center overflow-y-scroll">
                    <!-- Search + Filters Container -->
                    <!--filter-->
                    <%- include('../partials/questFilter') %>
                        <div class="flex justify-between w-full px-4">
                            <% if (userType==="researcher" ) { %>
                                <h1 class="flex items-center justify-center text-center p-2 rounded-xl"
                                    style="background-color: rgb(92, 203, 92,50%);">üß≠
                                    Biodiversity
                                    Quests</h1>
                                <div class="flex justify-end">
                                    <div class="relative group">
                                        <div
                                            class="absolute bottom-full bg-black text-white text-xs rounded px-2 py-1 group-hover:opacity-100 mb-2 right-0 opacity-0">
                                            Add Species
                                        </div>
                                        <a href="/quests/addQuest" class="p-2 rounded-full cursor-pointer block "
                                            style="background-color: rgb(92, 203, 92, 80%);">
                                            <img src="/images/add.svg" class="h-8 w-8" alt="Add Quest">
                                        </a>
                                    </div>
                                </div>
                                <% } %>
                        </div>
                        <% if (userType==="explorer" ) { %>
                            <h1 class="text-center p-2 rounded-xl" style="background-color: rgb(92, 203, 92,50%);">üß≠
                                Biodiversity
                                Quests</h1>
                            <% } %>
                                <!--quest cards-->

<<<<<<< HEAD
                            <%- include('../partials/questListCard') %>
=======
        <script>
            const questData = JSON.parse(`<%- JSON.stringify(questList || null) %>`);
        </script>
>>>>>>> 395379d78488e37492e2488aa66443e1708cdd7a

                </div>
                <!-- Footer by userType -->
                <% if (userType==='researcher' ) { %>
                    <%- include("../partials/researcher-footer") %>
                        <% } %>
                <% if (userType==='explorer' ) { %>
                    <%- include("../partials/explorer-footer") %>
                        <% } %>
                                        <script src="/js/menu.js"></script>
                                        <script src="/js/questList.js"></script>
                                        <script>
                                            setTimeout(() => {
                                                const flash = document.getElementById('success-message');
                                                if (flash) flash.style.display = 'none';
                                            }, 3000); // 3 seconds
                                        </script>

</body>

</html>