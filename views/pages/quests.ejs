<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Available Quests</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-green-50 min-h-screen font-sans">

  <div class="max-w-6xl mx-auto p-6">
    <h1 class="text-4xl font-bold mb-8 text-green-900">Available Quests</h1>

    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">

      <% const quests = [ 
        {
          _id: "665f0b2e1c8e4d32e4a12345",
          title: "Frog Watch in Burnaby",
          mission: "Find and photograph 3 amphibians",
          location: { coordinates: [-122.9655, 49.2475] },
          targetSpecies: "Frog",
          timeOfDay: "Evening",
          difficulty: "Medium",
          image: "/images/unfound.jpg"
        },
        {
          _id: "665f0b2e1c8e4d32e4a12346",
          title: "Pollinator Parade",
          mission: "Identify 5 pollinator species",
          location: { coordinates: [-123.1207, 49.2827] },
          targetSpecies: "Bee",
          timeOfDay: "Afternoon",
          difficulty: "Easy",
          image: "/images/unfound.jpg"
        },
        {
          _id: "665f0b2e1c8e4d32e4a12347",
          title: "Nocturnal Discovery",
          mission: "Spot two nocturnal mammals",
          location: { coordinates: [-123.1162, 49.25] },
          targetSpecies: "Raccoon",
          timeOfDay: "Night",
          difficulty: "Hard",
          image: "/images/unfound.jpg"
        }
      ]; %>

      <% quests.forEach(q => { %>
        <div class="bg-white shadow-lg rounded-xl overflow-hidden">
          <img src="<%= q.image %>" alt="Quest image" class="w-full h-48 object-cover">
          <div class="p-4">
            <h2 class="text-xl font-semibold text-green-800"><%= q.title %></h2>
            <p class="text-sm text-gray-700 mb-2"><%= q.mission %></p>
            <p class="text-sm text-gray-500">Time: <%= q.timeOfDay %> | Difficulty: <%= q.difficulty %></p>
            <a href="/quests/<%= q._id %>" class="inline-block mt-4 bg-green-600 hover:bg-green-700 text-white py-1.5 px-4 rounded">
              View Details
            </a>
          </div>
        </div>
      <% }); %>

    </div>
  </div>
  <% if (userType === 'researcher') { %>
      <%- include("../partials/researcher-footer") %>
  <% } %>
  <% if (userType === 'explorer') { %>
      <%- include("../partials/explorer-footer") %>
  <% } %>
</body>
</html>
